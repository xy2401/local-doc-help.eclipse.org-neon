<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="../../styles/carnot.css" charset="ISO-8859-1" type="text/css">
<title>Modeling the Organizational Structure</title>
<script language="JavaScript" src="../../styles/naviLine.js" type="text/javascript"></script>
</head>
<body>
<script language="JavaScript" type="text/javascript">
<!--
	writeNavigation("Working with Triggers",
        "mg-defdesk-9.htm","mg-defdesk-11.htm",
		"../handbooks.htm","Developer Handbook",
		"mg-preface.htm","Modeling Guide",
		"mg-modeler-preface.html","The Process Workbench");
 -->
</script>
<h1>Modeling the Organizational Structure</h1>
<p>Interactive Activities are assigned to participants - roles or organizations.
Users assigned to these roles or organizations perform the work represented by an activity
instance. Being assigned one or more activity instances, a user can perform these
activities by completing the work items in his worklist.</p>
<p>Hence, there is a distinction between</p>
<ul>
    <li>roles and organizations, which are visible both in the modeling as well as
    in the runtime environment,</li>
    <li>users who are visible only in the runtime environment and</li>
    <li>model elements that are visible only in the modeling environment.</li>
</ul>
<p>Consequently, in your modeling environment you use roles and organizations.
Individual human performers are created and assigned to these roles in the 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/carnot-clients.html">
Stardust Portal</a> or console administration tools or via embedding application.</p>
<p>Please refer to chapter
<a href="../../concepts/workflow-basics/mg-basics-9.htm">Participants and Users</a> in the 
<a href="../../concepts/key-concepts.html">Concepts</a> section for general details on participants and users.</p>
<p>The following sections describe the usage of participants in
the Process Workbench:</p>
<ul>
   <li><a href="#parts">Participant Types</a></li>
   <li><a href="#create">Creating Participants</a></li>
   <li><a href="#delete">Deleting Participants</a></li>
   <li><a href="#props">Setting Participant Properties</a></li>
   <li><a href="#binding">Department Binding for Organizations</a></li>
   <li><a href="#condPerformers">Configuring a Conditional Performer</a></li>
   <li><a href="#associate">Establishing Associations between Organizational Elements</a></li>
   <li><a href="#refpart">Working with Referenced Participants</a></li>
</ul>
<h2 id="parts">Participant Types</h2>
<p>The following participant types are provided in the Process Workbench:</p>
<ul>
   <li><img class="noborder" src="images/role-icon.png" alt=""> <strong>Role</strong> -
   denotes the responsibility assigned to the participants</li>
   <li><img class="noborder" src="images/organization-icon.png" alt=""> <strong>Organization</strong> -
   represents a group of resources, for example, a department or any organizational unit</li>
   <li><img class="noborder" src="images/cond-perf-icon.png" alt=""> <strong>Conditional Performer</strong> - 
   is evaluated at runtime and determines the identity of the actual performer</li>
</ul>
<h3 id="rep">Representation in the Process Workbench</h3>
<p>Participants are represented in the Outline view as in the following 
figure:</p>
<p class="image"><img src="images/participants-outline.png" alt=""> <br>
<strong>Figure:</strong> Representations of Participants in the Outline View</p>
<p>In the diagram canvas, participants and their organizational structure are represented as displayed in the following 
screenshot:</p>
<p class="image"><img src="images/participants-diagram.png" alt=""> <br>
<strong>Figure:</strong> Participants represented in a Diagram.</p>


<h2 id="create">Creating Participants</h2>
<p>To create a participant you can either:</p>
<ul>
   <li>Select <strong>Participants</strong> in the diagram 
   <a href="model-views/views-diagrams.html#toolbarPalette">toolbar palette</a> and select the participant type from
   the pop-up menu. Move the mouse pointer to the diagram canvas to place the participant symbol there. The participant
   is created by subsequently clicking on the canvas.
   <p class="image"><img src="images/new-part-toolbar.png" alt="Create a participant from the diagram toolbar"><br>
   <strong>Figure:</strong> Create a participant from the diagram toolbar</p></li>
   <li>In the <strong>Participants</strong> section of the 
   <a href="model-views/views-outline.html">Outline view</a> area, select <strong>New</strong> and the participant
   type from the pop-up menu. The created participant will appear in the tree view.
   <p class="image"><img src="images/new-part-outline.png" alt="Create a participant from outline"><br>
   <strong>Figure:</strong> Create a participant from the outline tree</p></li>
   <li>Or in the <strong>Outline</strong> view, select the model and from its pop-up
   menu <strong>New Participant</strong> and the participant type.
   <p class="image"><img src="images/new-part-outmodel.png" alt="Create a participant from model outline"><br>
   <strong>Figure:</strong> Create a participant from the model outline</p></li>
</ul>

<h2 id="delete">Deleting Participants</h2>
<p>If you delete a participant, you must make a distinction between deleting a participant from the model information 
or only deleting its symbol from a diagram. To do the first - delete an organization from the model - you proceed as 
follows:</p>
<ul>
   <li>Right-click the participant in the <strong>Participants</strong> tree of the <strong>Outline</strong> view
   or in a diagram canvas and select <strong>Delete Element</strong>.
   <p class="image"><img src="images/del-part-diagram.png" alt="Delete participant from diagram"><br>
   <strong>Figure:</strong> Delete participant from diagram</p></li>
</ul>
<p>To only remove a symbol of a participant from a diagram canvas, right-click the participant symbol and select
<strong>Delete Symbol</strong>.</p>
<p class="image"><img src="images/del-part-symbol.png" alt="Delete Symbol"><br>
   <strong>Figure:</strong> Deleting a participant symbol</p>
<h2 id="props">Setting Participant Properties</h2>
<p>To edit the property page of a participant right-click its symbol and select <strong>Properties</strong> or
simply double-click the symbol. The following properties are available for participants:</p>
<ul>
   <li><a href="#gen">General Properties</a></li>
   <li><a href="#bindprop">Binding Properties</a></li>
   <li><a href="#control">Controlling Parameters for Roles and Organizations</a></li>
   <li><a href="#task">Task Assignment</a></li>
   <li><a href="#simu">Simulation</a></li>
   <li><a href="#eff">Effort Planning</a></li>
</ul>
<h3 id="gen">General Properties</h3>
<p>The <strong>General</strong> properties section for participants contains:</p>
<ul>
   <li><strong>Element OID</strong>, <strong>Name</strong>, <strong>ID</strong>, <strong>Description</strong>
   - for details on these properties, please
   refer to section <a href="general-properties.html#general">General Properties</a> of chapter
   <a href="general-properties.html">Viewing and Editing Properties of Models and Model Elements</a>.</li>
   <li><strong>Visibility Public</strong> - If you select the <strong>Visibility Public</strong> check box, the 
   participant becomes visible and available for reference from any other model. For more information, please refer to
   section <a href="mg-preferences.html#multipackage">Multi Package Modeling Preferences</a> of chapter
   <a href="mg-preferences.html">Setting Process Manager Preferences</a> chapter. By default, this check box is 
   selected.</li>
</ul>
<h4 id="pid">Participant IDs</h4>
<p>IDs for participants have to be unique within all model participants like roles, organizations
or conditional performer. When trying to add a duplicate ID, this is indicated in
the participant properties page:</p>
<p class="image"><img src="images/error-duplicate-id-prop.png" alt=""> <br>
<strong>Figure:</strong> Duplicate ID indicated in Properties Page</p>
<p>The <strong>Problems View</strong> also shows the following error entry:</p>
<p class="image"><img src="images/error-duplicate-id-org.png" alt=""> <br>
<strong>Figure:</strong> Duplicate ID indicated in Problems View.</p>
<p>For further restrictions and general details on model element identifiers, please refer to chapter
<a href="../../concepts/workflow-basics/mg-basics-12.htm">Model Element Identifiers</a> of the
<a href="../../concepts/key-concepts.html">Key Concepts</a>.</p>

<h4 id="cardinality">Cardinality of roles</h4>
<p>You can define the cardinality of roles in the properties dialog. Type in the
maximum users that can be assigned to this role in the <strong>Cardinality</strong> entry
field.</p>
<p class="image"><img src="images/mg-role-cardinality.png" alt="Cardinality"> <br>
<strong>Figure:</strong> Setting the Cardinality<br /></p>
<h3 id="bindprop">Binding Properties</h3>
<p>Binding properties are available for organizations and conditional performers:</p>
<ul>
   <li>Organizations: <strong>Department Binding</strong> -
   to bind a department to an organization. Please refer to section 
   <a href="#binding">Department Binding for Organizations</a> for details</li>
   <li>Conditional Performers: <strong>Runtime Binding</strong> -
   to determine how to identify the actual performer during runtime. Please refer to section
   <a href="#condPerformers">Configuring a Conditional Performer</a> for details.</li>
</ul>
<h3 id="control">Controlling Parameters for Roles and Organizations</h3>
<p>Controlling parameters are different for roles and organizations.</p>
<ul>
   <li><a href="#ctrlrole">Controlling parameters for roles</a></li>
   <li><a href="#ctrlorg">Controlling parameters for organizations</a></li>
</ul>
<h4 id="ctrlrole">Controlling Parameters for roles</h4>
<p>The following controlling parameters are provided for roles:</p>
<ul> 
    <li><strong>Working Weeks Per Year:</strong> number of working weeks per year.</li>
    <li><strong>Actual Cost Per Minute:</strong> actual cost per minute.
    This property is used for calculation of the average costs displayed in the 
       <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/bcc-views-costs.html">
       Cost and Controlling View</a> in the 
       <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/carnot-clients.html">
       Stardust Portal</a>.</li>
    <li><strong>Target (System) Worktime Per Day:</strong> target system worktime 
    per day in minutes.</li>
    <li><strong>Target Worktime Per Week:</strong> target worktime per week in 
    hours.</li>
    <li><strong>Target Queue Depth</strong></li>
</ul>
<p class="image"><img src="images/role-props-controlling.png" alt="Controlling"><br>
<strong>Figure:</strong> Controlling parameters for roles<br />
<h4 id="ctrlorg">Controlling parameters for organizations</h4>
<p>You can set a <strong>Cost Center</strong> controlling parameters
for organizations.</p>
<p class="image"><img src="images/org-props-controlling.png" alt="Controlling"><br>
<strong>Figure:</strong> Controlling Parameter for organizations</p>
<h3 id="task">Task Assignment</h3>
<p>In the properties dialog of organizations and roles you can choose how the task assignment
is performed:</p>
<ul>
    <li>Select <strong>Task Assignment</strong> in the properties dialog.</li>
    <li>Choose the mode for task assignment. You have the choice to treat the participant by worklist selection 
    (<tt>Choose Assignment</tt>) or by automatic assignment (<tt>Assign Automatically</tt>) for using the
    assembly line mode. Please refer to chapter 
    <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/pp_renovated/activity-assembly.html">
    Working in Assembly Line Mode</a> in the
    <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/toc.html">End User Handbook</a>
    for details on using the automatic assignment for assembly line mode.</li>
</ul>
<p class="image"><img src="images/mg-task-assignment-org.png" alt="Task Assignment"><br>
<strong>Figure:</strong> Task Assignment of an organization</p>
<h3 id="simu">Simulation</h3>
<p>In this section you can specify simulation configurations, as described detailed in chapter
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.simulation/html/simulation/simulation-configurations.html">Simulation Configurations</a>
of the 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.simulation/html/simulation/toc.html">Stardust Simulation Guide</a>.)</p>
<h3 id="eff">Effort Planning</h3>
<p>In this section you can set the role, organization or conditional performer complexity for project effort calculation:</p>
<p class="image"><img src="images/organization-prop-effort.png" alt="Effort Planning"> <br>
<strong>Figure:</strong> Effort Planning Property of an organization</p>
<p>Please refer to chapter <a href="process-effort-calculation.html">Project Effort Calculation</a> for
detailed information on this functionality.</p>
<h2 id="binding">Department Binding for Organizations</h2>
<p>It is possible for organizations to add a department scope which is 
evaluated at runtime. This department scope is described as a data path
 to process data which returns a scope key to identify a department representing 
 this scope.</p>
<p>In the <strong>Department Binding</strong> section you can determine
that the organization is allowed to support departments by enabling the checkbox
<strong>Organization supports departments</strong>.</p>
<p class="image"><img src="images/mg-org-prop-binding.png" alt="Runtime Binding">
<br>
<strong>Figure:</strong> Department Binding</p>
<p>Once the checkbox is enabled, a new field opens, where you can enter
data for the department OID. It is possible to select one of the following
two data types:</p>
<ul>
    <li>a primitive data of type <tt>String</tt> without access path.
    <p class="image"><img src="images/mg-org-prop-depart-2.png" alt=""></p></li>
    <li>a structured data and an access path evaluating to String.
    <p class="note"><strong>Note</strong><br>
    the data path should be an element (type String) of the structured data and not be using
    methods as dereferentiation path.</p>
    <p class="image"><img src="images/mg-org-prop-depart-1.png" alt=""></p></li>
</ul>

<h2 id="condPerformers">Configuring a Conditional Performer</h2>
<p>Settings for runtime binding determine how to evaluate the conditional performer at runtime to identify the
actual performer.</p> 
<ul>
   <li><a href="#bindcp">Runtime Binding</a></li>
   <li><a href="#restcp">Restrictions on setting Conditional Performers</a></li>
</ul>
<p>As described in section
<a href="../../concepts/workflow-basics/mg-basics-9.htm#condPerf">Conditional Performers</a>
of chapter <a href="../../concepts/workflow-basics/mg-basics-9.htm">Participants and Users</a>,
the <a href="../../glossary.html#oid">OID</a> or respectively 
<a href="../../glossary.html#id">ID</a> of the performer assigned dynamically at runtime is passed to
the Stardust resource.</p>
<h3 id="bindcp">Runtime Binding</h3>
<p>Among the conditional performer's properties, there is also the distinction
between an individual user of the runtime environment and a performer defined in the
modeling environment (corresponding to a role or organization) used as a conditional
performer. This distinction has to be made in the same properties dialog. Click <strong>Runtime
Binding</strong> to define the performer as a user, organization/role or user group and choose the
data and optional data path to provide the performer's identity.</p>
<p>In the <strong>Kind</strong> drop-down list, define the performer as one
of the following:</p>
<ul>
    <li>User</li>
    <li>Organization/Role</li>
    <li>User Group</li>
    <li>Organization/Role or User Group</li>
</ul>
<p class="image"><img
    src="images/mg-performer-props.png" alt=""><br>
<strong>Figure:</strong> Specifying a Conditional Performer</p>
<h4>Oid/Id</h4>
<p>In the <strong>OID/Id</strong> section, choose the data and data path providing 
the performer identity.</p>
<p class="image"><img src="images/mg-org-cond-perf-oid.png" 
    alt="Conditional Performer Properties"><br>
<strong>Figure:</strong> Conditional Performer</p>

<p class="note"><strong>Note</strong><br>In case the data is of type <strong>Long</strong>, the value is used to identify the
OID of the performer, as thus it refers to a user. If the data is of type <strong>String</strong>,
the value is used to identify the Id of the performer, as this has to be a role in that case.</p>
<h4>User Realm</h4>
<p>If the conditional performer is defined as a user, an additional field appears to
fill in the users <a href="../../concepts/admin-concepts/ag-multipartition.htm#realm">realm</a>
data. <br>
&nbsp;</p>
<p class="image"><img src="images/mg-performer-props-realm.png" alt=""><br>
<strong>Figure:</strong> Specifying a Conditional Performer as User</p>
<h4>Using the Last Activity Performer data</h4>
<p>The <strong>Last Activity Performer</strong> data usage determines that the
performer is used as a computed value. The algorithm for a specific process
instance is as follows:</p>
<ol>
    <li>Select all <tt>COMPLETED</tt> activity instances belonging
    to the specific process instance, ordered descending by the last modification time.</li>
    <li>Traverse the result and select the first interactive activity instance.</li>
    <li>Return the user of that activity.</li>
</ol>
<p class="note"><strong>Note</strong><br>
Please note that in case the activity is the first activity in the work flow,
there would be no <strong>Last Activity Performer</strong>.
If an activity other than the first one is unable to retrieve
the last activity performer due to the transaction isolation level <tt>COMMITMENT</tt>,
set in the database, enable the <strong>Fork on traversal</strong> flag in the
transition between the current and the last activities.
Please refer to section <a href="../../concepts/workflow-basics/mg-basics-13.htm#activityThread">Activity Thread</a> of the
chapter <a href="../../concepts/workflow-basics/mg-basics-13.htm">Runtime Behavior</a> for detailed 
information on the <strong>Fork on Traversal</strong>
functionality.</p>
<h3 id="restcp">Restrictions on setting Conditional Performers</h3>
<p>Note that it is not possible to assign a conditional performer to a manual trigger!</p>
<h2 id="associate">Establishing Associations between Organizational Elements</h2>
<p>Organizations are groups of human resources. Consequently, they may contain
individual roles or subordinate organizations. Like process definitions, organizational
hierarchies can be modeled in the Stardust Process Workbench with the help of diagrams.</p>
<p>To model your organizations, use either diagrams bound to a process definition or
model diagrams. A prerequisite for establishing relationships between an organization and
its members is the existence of these elements: an organization and all its members (roles
or smaller organizational units). Proceed as follows:</p>
<ul>
    <li>Place the organization symbol and the symbol representing a member of this
    organization (e.g. a role or another organization) in a diagram.</li>
    <li>Right-click the symbol representing a member.</li>
    <li>Select <strong>Connect</strong> in the context menu.</li>
    <li>Click the organization the member is going to belong to.</li>
</ul>
<p class="image"><img src="images/mg-connect-organizations.png" alt=""> <br>
<strong>Figure:</strong> Making an organization part of another</p>
<p>To add further members to the organization, repeat these operations for each
member. An example of an organizational hierarchy diagram is shown below.</p>
<p class="image"><img src="images/organizational-diagram.png" alt=""> <br>
<strong>Figure:</strong> A sample organizational diagram</p>
<ul>
    <li><a href="#assrest">Restrictions on Associations</a></li>
    <li><a href="#teamLeader">The Team Leader Role</a></li>
    <li><a href="#ex">Implicitly assigning Roles and Organizations</a></li>
    <li><a href="#scope">Behavior of Scoped Organizations</a></li>
</ul>
<h3 id="assrest">Restrictions on Associations</h3>
<p>The following sections describe the restrictions on associations between organizational elements.</p>
<h4>Only one relationship to other participants supported</h4>
<p>Please note that a model participant can only have one relationship like
<strong>Work For</strong> or <strong>Manager of</strong> to other
participants. Otherwise the model validation fails and the 
following error message appears in the <strong>Problems</strong> 
view:</p>
<p class="image"><img src="images/work-for-error-problem-view.png" alt="Problems View"> <br>
<strong>Figure:</strong> Error indicated in Problems View</p>
<h4>Only one relationship to other organizations supported</h4>
<p>An organization should not be part of more than one other organization. Otherwise 
the model validation fails and the 
following error message appears in the <strong>Problems</strong> 
view:</p>
<p class="image"><img src="images/part-of-error-problem-view.png" alt="Problems View"> <br>
<strong>Figure:</strong> Error indicated in Problems View</p>
<h3 id="teamLeader">The Team Leader Role</h3>
<p>A role can be assigned as team leader to an organization. Please refer to the 
section <a href="../../concepts/workflow-basics/mg-basics-9.htm#teams">Teams</a> of chapter
<a href="../../concepts/workflow-basics/mg-basics-9.htm">Participants and Users</a> for
a detailed description on the definition of a team.</p>
<p>There can only be one
team leader per organization. In case no team leader is associated to an organization
yet, you are offered the following two types of connection:</p>
<ul>
    <li>Works For</li>
    <li>Manager Of</li>
</ul>
<p>The <strong>Works For</strong> connection is a simple assignment of a role to an
organization, whereas the <strong>Manager Of</strong> connection defines the role to be the
organizations team leader.</p>
<p class="image"><img src="images/mg-connect-teamleader.png"
    alt="Team Leader Connection"> <br>
<strong>Figure:</strong> Connecting a role as team leader</p>
<p>The connect transition between a team leader and an organization is displayed as a
dashed line.</p>
<p class="image"><img src="images/mg-teamleader-transition.png"
    alt="Team Leader Connection"> <br>
<strong>Figure:</strong> Connect transition between team leader and organization</p>
<p>In the
<strong>Control Center Perspective</strong> of the 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/carnot-clients.html">
Stardust Portal</a>,
the team leader has an overview over the activities
of all users belonging to the same organization the team leader belongs to.</p>
<h4>Invalid team leader connection</h4>
<p>In case an organization has an invalid team leader connection, e.g. it
has a team leader connection, but the team leader is not set in the model file,
an error indicates this in the <strong>Problems View</strong>.</p>
<p class="image"><img src="images/teamlead-error.png"
    alt="Team Leader Connection Error"> <br>
<strong>Figure:</strong> Connection Error displayed in the Problems View.</p>
<p>You have the option to use the provided <strong>Quick Fix</strong>
functionality for quickly fixing this error. Right-click the error entry and 
choose the <strong>Quick Fix</strong> option in the drop-down menu.</p>
<p class="image"><img src="images/teamlead-error-quick-fix-1.png"
    alt="Team Leader Connection Error"> <br>
<strong>Figure:</strong> Select Quick Fix to fix the Error.</p>
<p>The <strong>Quick Fix</strong> dialog opens, where you can fix the 
team leader connection for the organization.</p>
<p class="image"><img src="images/teamlead-error-quick-fix-2.png"
    alt="Quick Fix Dialog"> <br>
<strong>Figure:</strong> Quick Fix Dialog</p>
<h3 id="ex">Implicitly assigning Roles and Organizations</h3>
<p>If you assign an organization to an activity or manual trigger all users assigned to this organization or one of the
<strong>Works For</strong>/<strong>Manager Of</strong> roles are allowed to perform this task.</p>
<p>The following example demonstrates how to assign processes implicitly to roles in an organization. In the example
we have two processes named <strong>P1</strong> and <strong>P2</strong>. <strong>P1</strong> reads
data while <strong>P2</strong> also updates data. We create two participants, e.g. <strong>Manager</strong>
and <strong>Teller</strong>. We like participant <strong>Manager</strong> to be able to perform both processes
(reading and writing data), while participant <strong>Teller</strong> should be restricted to perform <strong>P1</strong>
only (reading data only).</p>
<p>To achieve this, we define an organization <strong>Org A</strong> and connect the roles <strong>Manager</strong>
and <strong>Teller</strong>.</p>
<p class="image"><img src="images/example-org.png" alt="Example organizational structure"><br>
<strong>Figure:</strong> Example organizational structure</p>
<p>Then we assign organization <strong>Org A</strong> to the activity to read data in 
<strong>P1</strong>.</p>
<p class="image"><img src="images/read-data-ex.png" alt="P2"><br>
<strong>Figure:</strong> Workflow diagram of P1</p>
<p>And finally we assign role <strong>Manager</strong> to the activity to read and edit data in <strong>P2</strong>.</p>
<p class="image"><img src="images/write-data-ex.png" alt="P2"><br>
<strong>Figure:</strong> Workflow diagram of P2</p>
<p>After deploying the model and assigning users to the roles <strong>Manager</strong> and <strong>Teller</strong>,
we see that the user assigned to role <strong>Teller</strong> can only start process <strong>P1</strong>,
whereas the user assigned to role <strong>Manager</strong> has both processes, <strong>P1</strong> and 
<strong>P2</strong> in his worklist. Roles <strong>Teller</strong> and <strong>Manager</strong> get the permission to
perform <strong>P1</strong> via their assignments to organization <strong>Org A</strong>. As <strong>P2</strong>
is connected to role <strong>Manager</strong>, only this role is allowed to perform it.</p>
<h3 id="scope">Behavior of Scoped Organizations</h3>
<p>Stardust supports scoping of roles, organizations and departments.
The following sections describe what happens when the organizations are scoped.</p>
<ul>
    <li><a href="#implicit">Implicitly Scoped Roles</a></li>
    <li><a href="#hierScop">Organizational Hierarchies and Target Departments</a></li>
    <li><a href="#matrix">Matrix Organizations</a></li>
    <li><a href="#deploy">Deployment Restrictions</a></li>
</ul>
<h4 id="implicit">Implicitly Scoped Roles</h4>
<p>Roles are implicitly scoped via the next scoped organization above.</p> 
<p>When a User is assigned to an (implicitly) scoped role, the role 
and the departments for all organizations, the role has a "Works For" or "Is Manager Of" 
relationship, have to be specified.</p>
<h4 id="hierScop">Organizational Hierarchies and Target Departments</h4>
<p>All organizations and roles underneath a scoped organization inherit 
the target departments of this organization, as long as the sub-organization does not define
a new target department. Hence, for every participant the relevant target department is the scope of the
next scoped organization upwards the organizational hierarchy.</p>
<h4 id="matrix">Matrix organizations</h4>
<p>Stardust only allows pure tree structures for
organizational hierarchies. Neither roles nor organizations may be assigned
to more than one organization. Matrix structures can be mapped by disjoint
organizational structures with possibly different scopes (e.g. branch vs. project),
whereby users might be assigned to roles in both structures.</p>

<h4>Matrix organization - Example</h4>
<p>
Stardust supports the matrix organization structure at runtime. While modeling, you cannot model
the matrix structure completely. 
The matrix organization structure can be achieved at runtime using the process portals. You need to create
departments in the Administration perspective to make a complete matrix structure.</p> 
<p>The following diagram displays the sample structure created at modeler level.
In the organization structure diagram, we have four organizations - <strong>M1 Project Orga</strong>, 
<strong>M2 Project Leader Orga</strong>, <strong>M1 Test Orga</strong> and <strong>M1 Development Orga</strong>.
Each of these organizations has roles defined. The <strong>M1 Project Manager</strong> is the manager of 
<strong>M1 Project Organization</strong>.</p>
<p>The <strong>M3 Project Member</strong> works for <strong>M2 Project Leaders Organization</strong>.
These two organizations - the <strong>M1 Project Organization</strong> and 
<strong>M2 Project Leaders organizations</strong> are connected. The <strong>M2 Test Engineer Organization</strong> 
works for <strong>M1 Test organization</strong> and <strong>M1 Test Manager</strong> is the manager of the 
<strong>M1 Test Organization</strong>.</p>
<p>We cannot connect one role to multiple organizations directly. That's why we need to create departments and 
assign users to roles. To achieve the same scenario, three red arrows are used to indicate that you need to create 
department <strong>Project A</strong> in the <strong>M1 Test organization</strong> and department 
<strong>Project A and Project B</strong> in the <strong>M2 Leaders Organization</strong>.</p>
<p class="image"><img src="images/SamsaModel_MatrixOrgaStructure.png" alt="Sample Matrix Model">
<br>
<strong>Figure:</strong> Sample model for matrix organization</p>
<h4 id="deploy">Deployment Restrictions</h4>
<p>Note that restrictions exist for deploying a model
with changes in the department association for existing roles or organizations,
to a succeeding model version.
Please refer to section 
<a href="mg-deploy-model.html#structure">Changes in the organizational structure</a>
of the
<a href="mg-deploy-model.html#consistency">Consistency Checks</a> part in chapter
<a href="mg-deploy-model.html">Deploying a Workflow Model</a>
for detailed information on which changes are supported and which will lead to
a consistency error.</p>
<h2 id="refpart">Working with Referenced Participants</h2>
<p>When a provider-consumer relationship is established between two models, the participants 
of the provider model can be referenced in the consumer model. To reference the participants, 
perform the following steps:</p>

<ol>
	<li>From the <strong>Outline View</strong> of the consumer model, drag the referenced participant from the <strong>File Connection</strong> node
   <p class="image"><img src="images/refparticipant.png"
    alt="Participant Available for Reference"> <br>
   <strong>Figure:</strong> Participant Available for Reference</p></li>
	<li>Drop the referenced participant to the diagram canvas</li>
	<li>Assign manual trigger or activity to the participant</li>
</ol>
<p>When you drag-and-drop the referenced participant the reference is created and the referenced model participant
appears in the locally defined model participant.

<p class="image"><img src="images/outline-participant.png"
    alt="Participant Available for Reference"> <br>
<strong>Figure:</strong> Participant Available for Reference</p>
<p>For more information, please refer to section <a href="mg-registry.html#fileConn">Referencing Model Elements</a> of the 
<a href="mg-registry.html">External Model Resources</a> chapter.</p>

<p>Note that if a participant with an identical ID already exists in the consumer or referencing 
model then you cannot refer the participant of the provider or referenced model. Similarly, you cannot
create a participant in the consumer model, if a participant with an identical ID is in use as a 
reference from a provider model. In such a case, a model validation error is displayed.</p>
<p>For more information, please refer to section <a href="mg-deploy-model.html#consistency">Consistency Checks</a> 
of the <a href="mg-deploy-model.html">Deploying a Workflow Model</a> chapter.
</p>
<p>Also, the following dialog is displayed in case the referenced participant ID 
is identical with the consumer participant and you try to drag and drop the referenced participant. 
If you click <strong>OK</strong>, only the selected element is imported by reference. 
If the organization has sub-organizations, then those sub-organizations do not get imported by reference. </p>
<p class="image"><img src="images/conflict-replace.png"
    alt="Conflict - Replace"> <br>
<strong>Figure:</strong> Conflict - Replace</p>
	
<script language="JavaScript" type="text/javascript">
<!-- 
writeFooter(); 
-->
</script>
</body>
</html>
