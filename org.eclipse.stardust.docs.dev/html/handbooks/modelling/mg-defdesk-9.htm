<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="STYLESHEET" href="../../styles/carnot.css" charset="ISO-8859-1"
    type="text/css">
<title>Working with Data Paths</title>
<script language="JavaScript" src="../../styles/naviLine.js"
    type="text/javascript"></script>
</head>
<body>
<script language="JavaScript" type="text/javascript">
<!--
	writeNavigation("Modeling the Organizational Structure","mg-defdesk-8.htm","mg-defdesk-10.htm",
		"../handbooks.htm","Developer Handbook",
		"mg-preface.htm","Modeling Guide",
		"mg-modeler-preface.html","The Process Workbench");
 -->
</script>
<h1>Working with Data Paths</h1>
<p>Data paths are a way to define read and write accessors to workflow data of a process instance. For general details
on using data paths in Stardust please refer to section
<a href="../../concepts/workflow-basics/mg-basics-8.htm#dataPaths">Data Paths</a>
of chapter <a href="../../concepts/workflow-basics/mg-basics-8.htm">Workflow Data</a>
in our <a href="../../concepts/key-concepts.html">Key Concepts</a> section.</p>
<p>You can use data paths programmatically during runtime via the provided
<a href="../programming/embed/pg-embedded-3.htm#workflowservice">WorkflowService</a>. Please
refer to the chapter <a href="../programming/embed/pg-embedded-3.htm">Stardust Services</a> for
detailed information on the embedded usage of Stardust services.
If defined as
<a href="#descriptors">descriptors</a>, data paths can be also used to visualize
process data in the Stardust Portals.
Note that only data paths defined as descriptors are
visible in the Stardust Portals.</p>
<ul>
   <li><a href="#create">Creating Data Paths for Process Definitions</a></li>
   <li><a href="#descriptors">Setting Descriptors</a></li>
   <li><a href="#key">Using Key Descriptors</a></li>
</ul>
<h2 id="create">Creating Data Paths for Process Definitions</h2>
<p>To add a data path, select <strong>Data Path</strong> in the <strong>Overview</strong>
tree on the left side of the properties dialog pertaining to the chosen process
definition. In the right pane, click the <strong>Add</strong> button.</p>
<p class="image"><img src="images/add-data-path-proc.png"
    alt="Creation of a Data Path"><br>
<strong>Figure:</strong> Adding a Data Path</p>
<p>The Data Path property pane opens.</p>
<p class="image"><img src="images/data-path-proc.png"
    alt="Creation of a Data Path"><br>
<strong>Figure:</strong> Adding a Data Path</p>
<p>You can specify the following attributes:</p>
<ul>
   <li>An ID uniquely identifying the data path <br>
   For restrictions and general details on model element identifiers, please refer to chapter
   <a href="../../concepts/workflow-basics/mg-basics-12.htm">Model Element Identifiers</a> of the
   <a href="../../concepts/key-concepts.html">Key Concepts</a>.</li>
   <li>A human readable name</li>
   <li>A direction - IN direction is for read access, OUT direction for
   write access</li>
   <li>Modeled as a <a href="#descriptors">descriptor</a> or not</li>
   <li>The referenced workflow data</li>
   <li>An access path to the data</li>
</ul>
<p>The created data path is visualized in the Outline view.</p>
<p class="image"><img src="images/data-path-in-outline.png" alt="Data Path visualized in Outline View"><br>
<strong>Figure:</strong> Data Path visualized in Outline View</p>
<h2 id="descriptors">Setting Descriptors</h2>
<p>To define a descriptor for a process definition, select the
<strong>Descriptor</strong> radio button in the properties page.
By default, <strong>Not a descriptor</strong> radio button is selected.
Select a data to use as the process data.
Note that timestamp data types like <tt>datetime</tt>, <tt>date</tt> and <tt>time</tt>
are currently not supported as descriptors. It is also recommended to avoid using
Object types like Serialization, Entity Bean or Hibernate as this can lead to performance
problems during queries.</p>
<p class="image"><img src="images/mg-set-descriptor.png"
    alt="Define a Data Path as Descriptor."><br>
<strong>Figure:</strong> Define a Data Path as Descriptor.</p>
<p>The descriptor is visualized in the Outline view by a red color.</p>
<p class="image"><img src="images/descriptor-in-outline.png" alt="Descriptor visualized in Outline View"><br>
<strong>Figure:</strong> Descriptor visualized in Outline View</p>

<ul>
   <li><a href="#sub">Descriptors and Subprocesses</a></li>
   <li><a href="#use">Descriptor Use Cases</a></li>
   <li><a href="#count">Providing the total Count of attached Documents as Descriptor</a></li>
   <li><a href="#count2">Providing the total Count of Documents in a Document List</a></li>
</ul>
<h3 id="sub">Descriptors and Subprocesses</h3>
<p>Process descriptors attached to a main process do not apply to its sub-processes.
If you like to apply the same descriptor, you have to set it explicitly for the
sub-process itself.</p>
<h3 id="use">Descriptor Use Cases</h3>
<p>A data path defined as descriptor can be used in the Stardust Portal
to visualize data relevant for work items in a participant's worklist or to filter
displayed entries by these values, for example:</p>
<ul>
    <li>In the 
		<strong>Workflow Execution Perspective</strong> to visualize data or to
        filter by data values.
		<p class="image"><img src="images/mg-descriptor-pp-example.png"
		alt=""><br>
		<strong>Figure:</strong> Descriptors used as Filter in the Workflow Execution Perspective</p></li>
	<li>In the 
		<strong>Control Center Perspective</strong> to visualize data, filter process instances
        by relevant data in the Process Search view, differentiate process instances
        in the Gantt Chart view or group by data values in the Traffic Light view.
		<p class="image"><img src="images/mg-descriptor-bcc-example.png"
   		 alt="BCC - Process Search View"><br>
		<strong>Figure:</strong> Descriptors used as Filter in the Process Search View</p></li>	  
	    <li>In the 
		<strong>Administration Perspective</strong> to visualize data or to
        filter by data values.
		<p class="image"><img src="images/descriptor-ap-example.png"
    	alt="Administration Perspective"><br>
		<strong>Figure:</strong> Descriptors indicated in the Administration Perspective</p></li>
</ul>
<h3 id="count">Providing the total Count of attached Documents as Descriptor</h3>
<p>You have the option to provide the total count of attached documents for a
process definition as descriptor. To make the number of attached documents
available as descriptor perform the following steps:</p>
<ol>
   <li>Make sure the 
   <strong>Process Supports Attachments</strong> option is selected for your process.
   Please refer to section <a href="mg-defdesk-3.htm#attachments">Process Attachments</a> 
   in chapter <a href="mg-defdesk-3.htm">Working with Process Definitions</a> for details
   on how to support process attachments in your process.
   <p class="image"><img src="images/sel-process-attach.png" alt=""><br>
   <strong>Figure:</strong> Support process attachments</p></li>
   <li>Add a new In-data path</li>
   <li>Select <strong>Direction</strong> <tt>IN</tt></li>
   <li>Select <strong>Descriptor</strong></li>
   <li>In the <strong>Data</strong> drop-down list select 
   <strong>Process Attachments</strong>
   <p class="image"><img src="images/proc-attach-descriptor.png" alt=""><br>
   <strong>Figure:</strong> Select process attachments</p></li>
   <li>Click <strong>Browse</strong> to select the Data Path</li>
   <li>In the Data Path dialog select the predefined access point 
   <strong>documentCount</strong>
   <p class="image"><img src="images/proc-attach-descriptor-path.png" alt=""><br>
   <strong>Figure:</strong> Select access point for document count</p></li>
</ol>
<p>Now the count of process attachments is displayed in the <strong>Descriptor</strong> column in your Portal 
process tables, e.g.:</p>
<p class="image"><img src="images/proc-attach-count-descr.png" alt="Document count"><br>
<strong>Figure:</strong> Document count displayed in a Process Table</p>
<p>You can view it also in the specific document count descriptor column, e.g.:</p>
<p class="image"><img src="images/proc-attach-count-result.png" alt="Document count"><br>
<strong>Figure:</strong> Document count displayed in a Process Table</p>
<h3 id="count2">Providing the total Count of Documents in a Document List</h3>
<p>Similar as for attached documents, you can also provide the number of documents in a Document List as descriptor. To 
make the number of documents in a document list available as descriptor, perform the following steps:</p>
<ol>
   <li>Add a new In-data path to your process definition</li>
   <li>Select <strong>Direction</strong> <tt>IN</tt></li>
   <li>Select <strong>Descriptor</strong></li>
   <li>In the <strong>Data</strong> drop-down list select the document list
   <li>Click <strong>Browse</strong> to select the Data Path</li>
   <li>In the Data Path dialog select the predefined access point 
   <strong>documentCount</strong>
   <p class="image"><img src="images/doc-list-count-path.png" alt=""><br>
   <strong>Figure:</strong> Select Data Path for Document Count</p>
   <p class="image"><img src="images/doc-list-count-descr.png" alt=" Document Count descriptor for a Document List"><br>
   <strong>Figure:</strong> Document Count descriptor for a Document List</p></li>
</ol>
<p>Now the count of documents in the referenced document list is displayed in the column for the above descriptor in 
your Portal process tables.</p>

<h2 id="key">Using Key Descriptors</h2>
<p>Key descriptors allow designating special descriptors to support searching related processes with matching key 
descriptors.
To define a key descriptor for a process definition, select the <strong>Key Descriptor</strong> radio button.</p>
<p>
For more information, please refer to the 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.dev/html/concepts/executing-workflow/case-concept.html#cdesc">Case Descriptors </a>section of the 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.dev/html/concepts/executing-workflow/case-concept.html#cdesc">Case - Grouping Processes</a> chapter
of the <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.dev/html/concepts/key-concepts.html">
Concepts</a> handbook.
</p>
 <p class="image"><img src="images/key-desc.png"
    	alt="Key Descriptor"><br>
		<strong>Figure:</strong> Defining Key Descriptor</p>
<p>When defining key descriptors, the following rules are applied for IN data path as well as OUT data path:
</p>
<ul>
	<li>the data used in the descriptor should be of primitive type with no data path defined
	<p>OR</p></li>
	<li>the data used in the descriptor should be structured data which is indexed. 
	 It should have a data path defined which results into java primitive type.
</li>
</ul>
<h3>Key Descriptors in the Stardust Portal - Use Cases</h3>
<p>A data path defined as key descriptor can be used in the Stardust Portal to search for related joined 
processes or cases. For more information, please refer to chapter 
<a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/execution-clients/detail-views/related-process-search.html">
Searching for related Processes or Cases</a> of the <a href="PLUGINS_ROOT/org.eclipse.stardust.docs.enduser/html/handbooks/toc.html">End User Handbook.</a>
<h4>Key descriptor usage example</h4>
<p>The following example demonstrates how key descriptors can be used to identify a specific process instance in an 
abort and join scenario:</p>
<ul>
	<li>We have two processes <strong>Process1</strong> and <strong>Process2</strong> with two data paths
   <strong>Accountnr</strong> and <strong>AccountName</strong>, which are defined as key descriptors.
   <p class="image"><img src="images/key-descr-path1.png" alt="Data Path Process1"><br>
   <strong>Figure:</strong> Data path Accountnr defined as key descriptor</p>
   <p class="image"><img src="images/key-descr-path2.png" alt="Data Path Process2"><br>
   <strong>Figure:</strong> Data path AccountName defined as key descriptor</p></li>
	<li>We start an instance of <strong>Process2</strong> and enter the data values <code>Cityman</code> and 
   <code>4711</code> for the data referenced by key descriptors <strong>AccountName</strong> and 
   <strong>Accountnr</strong>.
   <p class="image"><img src="images/key-descr-enter-values.png" alt="Enter data values for key descriptors"><br>
   <strong>Figure:</strong> Entering data values for key descriptors</p></li>
   <li>We start an instance of <strong>Process2</strong> and enter the same value (<code>Cityman</code>) for the data 
   referenced by key descriptor <strong>AccountName</strong> and a different value for the data referenced by key 
   descriptor <strong>Accountnr</strong>.
   <p class="image"><img src="images/key-descr-diff-nr.png" alt="Entering a different value"><br>
   <strong>Figure:</strong> Entering a different value for key descriptor AccountName</p></li>
   <li>We start an instance of <strong>Process2</strong> and enter a different value for the data referenced by key 
   descriptor <strong>AccountName</strong> and the same value as for <strong>Process1</strong> (<code>4711</code>) for
   the data referenced by key descriptor <strong>Accountnr</strong>.
   <p class="image"><img src="images/key-descr-diff-name.png" alt="Entering a different value"><br>
   <strong>Figure:</strong> Entering a different value for key descriptor Accountnr</p></li>
   <li>Now we start an instance of <strong>Process1</strong> with the values <code>Cityman</code> and 
   <code>4711</code>and click the <strong>Abort Process and Join</strong> option.
   <p class="image"><img src="images/key-descr-abort-join.png" alt="Abort Process and Join option"><br>
   <strong>Figure:</strong> Abort Process and Join option</li>
   <li>In the <strong>Abort and Join</strong> dialog, we see all instances of previously started processes matching
   the values for key descriptors <strong>Accountnr</strong> and <strong>AccountName</strong>.
   <p class="image"><img src="images/key-descr-found.png" alt="Matching key descriptors"><br>
   <strong>Figure:</strong> Matching key descriptors</p></li>
   <li>Click the <strong>Match Any</strong> button.
   <p class="image"><img src="images/key-desc-match-any.png" alt="Match Any"><br>
   <strong>Figure:</strong> Match Any</p></li>
   <li>Now all process instances with key descriptors matching any value of the key descriptors of the current process
   instance are displayed.
   <p class="image"><img src="images/key-descr-found-any.png" alt="Match Any"><br>
   <strong>Figure:</strong> Match Any</p></li>
</ul>

<script language="JavaScript" type="text/javascript">
<!-- 
writeFooter(); 
-->
</script>
</body>
</html>
